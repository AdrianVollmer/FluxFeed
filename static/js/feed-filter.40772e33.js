"use strict";(()=>{function d(){let e=document.getElementById("feed-filter-modal");e&&(e.innerHTML="")}function l(){document.querySelectorAll(".feed-checkbox, .group-checkbox").forEach(e=>e.checked=!0)}function r(){document.querySelectorAll(".feed-checkbox, .group-checkbox").forEach(e=>e.checked=!1)}function i(){let e=Array.from(document.querySelectorAll(".feed-checkbox:checked")).map(t=>t.value),o=Array.from(document.querySelectorAll(".group-checkbox:checked")).map(t=>t.value),n=new URLSearchParams(window.location.search);n.delete("feed_ids"),n.delete("group_ids"),n.delete("offset"),e.length>0&&n.set("feed_ids",e.join(",")),o.length>0&&n.set("group_ids",o.join(","));let c=n.toString();window.location.href="/articles"+(c?"?"+c:"")}function s(){document.querySelectorAll(".group-checkbox").forEach(e=>{e.addEventListener("change",function(){let o=this.closest(".group-container");o&&o.querySelectorAll(".feed-checkbox, .group-checkbox").forEach(n=>{n!==this&&(n.checked=this.checked)})})})}document.addEventListener("keydown",e=>{e.key==="Escape"&&d()});document.body.addEventListener("htmx:afterSwap",e=>{e.detail?.target?.id==="feed-filter-modal"&&s()});window.closeFeedFilterModal=d;window.selectAllFeeds=l;window.selectNoneFeeds=r;window.applyFeedFilter=i;})();
