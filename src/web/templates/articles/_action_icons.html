{# Action icons for article - can be used in both card and compact views #}
{# Parameters expected: item (ArticleWithFeed), is_compact (bool) #}
<button
    hx-post="/articles/{{ item.article.id }}/toggle-starred{% if is_compact %}-compact{% endif %}"
    hx-target="#article{% if is_compact %}-compact{% endif %}-{{ item.article.id }}"
    hx-swap="outerHTML"
    {% if is_compact %}onclick="event.stopPropagation()"{% endif %}
    class="p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors"
    title="{% if item.article.is_starred %}Unstar article{% else %}Star article{% endif %}">
    {% if item.article.is_starred %}
    {% include "icons/star-filled.html" %}
    {% else %}
    {% include "icons/star-outline.html" %}
    {% endif %}
</button>
<a href="/articles/{{ item.article.id }}/reader"
    class="p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors"
    title="Open in reader mode"
    onclick="{% if is_compact %}event.stopPropagation(); {% endif %}event.preventDefault(); const url = this.href; htmx.ajax('POST', '/articles/{{ item.article.id }}/mark-read{% if is_compact %}-compact{% endif %}', {target:'#article{% if is_compact %}-compact{% endif %}-{{ item.article.id }}', swap:'outerHTML'}).then(() => window.location.href = url)">
    {% include "icons/reader.html" %}
</a>
<button
    hx-post="/articles/{{ item.article.id }}/toggle-read{% if is_compact %}-compact{% endif %}"
    hx-target="#article{% if is_compact %}-compact{% endif %}-{{ item.article.id }}"
    hx-swap="outerHTML"
    {% if is_compact %}onclick="event.stopPropagation()"{% endif %}
    class="p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors"
    title="{% if item.article.is_read %}Mark as unread{% else %}Mark as read{% endif %}">
    {% if item.article.is_read %}
    {% include "icons/envelope-open.html" %}
    {% else %}
    {% include "icons/envelope-closed.html" %}
    {% endif %}
</button>
