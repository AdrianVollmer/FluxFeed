<modal-dialog title="Assign Feed to Group" close-target="group-form-modal">
    <div class="mb-4">
        <p class="text-gray-600 dark:text-gray-400">
            Assign <span class="font-medium text-gray-900 dark:text-gray-100">{{ feed.title }}</span> to a group:
        </p>
    </div>

    <form
        hx-put="/feeds/{{ feed.id }}/group"
        hx-target="#group-list"
        hx-swap="innerHTML"
        hx-on::after-request="if(event.detail.successful) document.getElementById('group-form-modal').innerHTML = ''">

        <div class="mb-6">
            <label for="group_id" class="block text-sm font-medium mb-2">
                Select Group
            </label>
            <select
                id="group_id"
                name="group_id"
                class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700">
                <option value="">No group (ungrouped)</option>
                {% for group in groups %}
                <option value="{{ group.id }}"
                    {% if feed.group_id.is_some() && feed.group_id.unwrap() == group.id %}selected{% endif %}>
                    {{ group.name }}
                </option>
                {% endfor %}
            </select>
        </div>

        <div class="flex justify-end space-x-3">
            <button
                type="button"
                onclick="document.getElementById('group-form-modal').innerHTML = ''"
                class="btn btn-secondary">
                Cancel
            </button>
            <button type="submit" class="btn btn-primary">
                Save
            </button>
        </div>
    </form>
</modal-dialog>
